More stupid amateur epidemiology.
==================================


Everyone is jumping on the bandwagon, so I had to try it out.

I am trying the technique from https://www.youtube.com/watch?v=54XLXg4fYsc but on County data from the New York Times.

The New York Times publishes their COVID-19 data at https://github.com/nytimes/covid-19-data.git

Originally I intended to do this only for California counties, but the notebook now has a cell that allows
you to pick which state you want to look at.

Currently it defaults the Georgia, as Georgia has been in the news a lot.

To fetch the nytimes data try

`git submodule update --init`

from this folder.

To update the nytimes data, `cd covid-19-data` then `git pull` then `cd ..`

You can rerun the cells that load the data without restarting the notebook.

To view the notebook, run `jupyter notebook` from this folder.

You'll need python3, numpy, and matplotlib.

High level summary
----------------

For many (but certainly not all) common dynamical systems, a "phase plot" or "phase portrait"
of a time series can be made by plotting a key value of the system on the x axis, plotting
the rate of change of that value on the y axis, and not explicitly plotting time.

Such plots highlight certain aspects of a given time series while de-emphasizing others.

In particular, for rapidly growing functions, a phase portrait in which each axis is on
a log scale quickly and easily reveals which family of functions the growth of the quantity
most resembles, rather than what the instantaneous growth rate is.

Purely exponential growth corresponds to lines in this plot with a slope of `1`.
Changing the base of the exponent merely shifts these lines up or down in the plot without
changing their slope.
Quadratic growth corresponds to lines in this plot with a slope of `1/2`.
Polynomial growth with a power of `p` produces lines with a slope of `(p-1)/p`

Configuration
----------------

There is a cell near the top of the notebook that, as of when I am writing this, looks something like

```
field = ['cases', 'deaths'][0] # switch index to do cases vs deaths
# Note that as of April 29, "deaths" are noisy for states other than, e.g., New York, New Jersey
state = 'California' # switch to, e.g., 'New York'
magic_date = "2020-03-19" # date to highlight on plots
# "2020-03-19" is the start of the California Shelter-In-Place
# "2020-03-17" is the start of the Bay Area Shelter-In-Place
# "2020-03-20" is the start of the New York State SIP
# "2020-03-30" is the DC/Maryland/Virginia SIP
# "2020-03-31" is the Tennessee SIP start
magic_date_name = "shelter in place"
offset_magic_date_by = [6, # estimated incubation period of COVID-19
                        11, # a few days after estimated incubation period of COVID-19
						] # make this list empty to eliminate all magic date markers
extra_counties = [("California","Orange"), "San Diego", "Los Angeles"]
show_this_many_counties = 12 # You probably don't want to exceed 12 here
```

Editing these variables changes various plotting parameters.

The `magic_date` and `offset_magic_date_by` variables allow one to place markers
at specific delays after events one reads about in the news, in order to see
whether said events roughly line up with qualitative behavior changes in the charts.

Generally because of a combination of the lag induced by smoothing and the incubation
period of COVID-19, an event you read about in the news today won't be visible in the
charts generated by this notebook.

There is now a feature to add particular counties that you want to show up in plots, even if they're
not in the top `show_this_many_counties`.

Setting `extra_counties = [("California","Orange"), "San Diego", "Los Angeles"]` ensures that
any counties named `San Diego` or `Los Angeles` appear in your plots, and any counties named
`Orange` in the state of `California` show up in your plots.

Known caveats
----------------

1. Because this is a "phase plot", trajectories that appear to be declining in these plots actually represent cumulative case loads that are still growing
2. The smoothing used to compute the derivative of cumulative case load introduces a lag/delay, which can affect how dates of events from the news line up with changes in the chart
3. I'm not a real epidemiologist

Humorous aside
----------------

https://xkcd.com/2300/
